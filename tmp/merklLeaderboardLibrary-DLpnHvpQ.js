import{j as e}from"./jsx-runtime-u17CrQMm.js";import{r as R,d as P}from"./chunk-4WY6JWTD-C-sa5HNl.js";import{D as E}from"./pagination-lesfVksj.js";import{P as B}from"./Pagination-7_y_mOUb.js";import{c as y}from"./Table-CcuhBdfN.js";import{u as M}from"./useIsMobile-Dz3gkJW4.js";import{T as N}from"./Token-Df4UsgAN.js";import{U as z}from"./User-vxI9_T-z.js";import{f as T}from"./transactionReceipt-DWSw1YDL.js";import{T as g,G as i}from"./Text-s-7T7AgB.js";import{P as c}from"./avatar-BKGp_vp_.js";import{V as w}from"./Value-DP-ddCj7.js";import{m as I}from"./css-DJ4j81Gp.js";import{v as S}from"./v4-BKrj-4V8.js";import{I as _}from"./Icon-yIzcnvx6.js";const[F,A,re]=y({rank:{name:"Rank",size:"minmax(120px,150px)",mobileSize:"minmax(30px,40px)",className:"justify-start",main:!0},address:{name:"Address",size:"minmax(130px,170px)",mobileSize:"minmax(80px,100px)",className:"justify-start"},rewards:{name:"Rewards earned",size:"minmax(300px,auto)",mobileSize:"minmax(0px,200px)",className:"justify-start"},protocol:{name:"Via",size:"minmax(100px,auto)",mobileSize:"0px",className:"justify-end hidden md:flex"}}),[U,G,me]=y({rank:{name:"Rank",size:"minmax(120px,150px)",className:"justify-start",main:!0},address:{name:"Address",size:"minmax(170px,1fr)",className:"justify-start"},rewards:{name:"Rewards earned",size:"minmax(30px,1fr)",className:"justify-start"}});function V({row:s,rank:r,total:m,className:o,showreason:t,token:a,chain:l,...p}){const d=R.useMemo(()=>{const u=T(BigInt(s?.amount)+BigInt(s?.pending??0),a.decimals),x=T(m,a.decimals);return Number.parseFloat(u)/Number.parseFloat(x)},[s,m,a]),n=M();return t?e.jsx(A,{className:I("cursor-pointer bg-main-2",o),rankColumn:e.jsxs(i,{className:"flex-nowrap",children:[e.jsxs(c,{size:n?"xs":"md",className:"pointer-events-none",look:"bold",children:["#",r]}),e.jsx(c,{size:"xs",className:"pointer-events-none md:flex hidden  justify-center",look:"soft",children:e.jsx(w,{format:"0.#%",children:d})})]}),addressColumn:e.jsx(z,{size:n?"xs":"md",chain:l,address:s.recipient}),rewardsColumn:e.jsx(N,{size:n?"xs":"md",token:a,format:"amount_price",amount:BigInt(s?.amount)+BigInt(s?.pending)}),protocolColumn:e.jsx(g,{children:s?.reason?.split("_")[0]})}):e.jsx(G,{...p,className:I("cursor-pointer",o),rankColumn:e.jsxs(i,{className:"flex-nowrap",children:[e.jsxs(c,{className:"pointer-events-none",look:"bold",children:["#",r]}),e.jsx(c,{size:"xs",className:"pointer-events-none md:block hidden",look:"soft",children:e.jsx(w,{format:"0.#%",children:d})})]}),addressColumn:e.jsx(z,{chain:l,address:s.recipient}),rewardsColumn:e.jsx(N,{token:a,format:"amount_price",amount:BigInt(s?.amount)+BigInt(s?.pending)})})}function oe({leaderboard:s,count:r,total:m,token:o,chain:t,reason:a,header:l,page:p,items:d,onPageChange:n,onItemsChange:u}){const[x]=P(),C=Number(x.get("page")??1),L=Number(x.get("items")??E),f=p??C,j=d??L,k=a?F:U,h=R.useMemo(()=>s.map((b,v)=>e.jsx(V,{total:BigInt(m??0n),row:b,showreason:a,rank:v+1+(f-1)*j,token:o,chain:t},S())),[s,f,j,m,o,t,a]);return e.jsx(i,{className:"flex-row w-full [&>*]:grow",children:h.length?e.jsx(k,{responsive:!0,dividerClassName:b=>b<2?"bg-accent-8":"bg-main-8",header:l,footer:r!==void 0&&e.jsx(B,{count:r,page:f,items:j,onPageChange:n,onItemsChange:u}),children:h}):e.jsx(i,{className:"flex  w-full h-full",size:"lg",children:e.jsxs(i,{className:"flex-col items-center justify-center mx-auto my-xl max-w-[364px]",size:"md",children:[e.jsx(_,{remix:"RiForbid2Fill",className:"w-[24px] h-[24px]"}),e.jsx(g,{look:"bold",className:"flex gap-sm",size:"lg",bold:!0,children:"Engine warming up"}),e.jsx(g,{look:"bold",className:"flex gap-sm text-center",size:"sm",children:"The Merkl Engine computes rewards a few hours after the campaign starts. The leaderboard appears once ready."})]})})})}export{oe as L};
